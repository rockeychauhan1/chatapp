{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import ScrollToBottom from\"react-scroll-to-bottom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Chat(_ref){let{socket,username,room}=_ref;const[currentMessage,setCurrentMessage]=useState(\"\");const[messageList,setMessageList]=useState([]);const sendMessage=async()=>{if(currentMessage!==\"\"){const messageData={room:room,author:username,message:currentMessage,time:new Date(Date.now()).getHours()+\":\"+new Date(Date.now()).getMinutes()};await socket.emit(\"send_message\",messageData);setMessageList(list=>[...list,messageData]);setCurrentMessage(\"\");}};useEffect(()=>{socket.on(\"receive_message\",data=>{setMessageList(list=>[...list,data]);});},[socket]);return/*#__PURE__*/_jsxs(\"div\",{className:\"chat-window\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"chat-header\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Live Chat\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"chat-body\",children:/*#__PURE__*/_jsx(ScrollToBottom,{className:\"message-container\",children:messageList.map(messageContent=>{return/*#__PURE__*/_jsx(\"div\",{className:\"message\",id:username===messageContent.author?\"you\":\"other\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"message-content\",children:/*#__PURE__*/_jsx(\"p\",{children:messageContent.message})}),/*#__PURE__*/_jsxs(\"div\",{className:\"message-meta\",children:[/*#__PURE__*/_jsx(\"p\",{id:\"time\",children:messageContent.time}),/*#__PURE__*/_jsx(\"p\",{id:\"author\",children:messageContent.author})]})]})});})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"chat-footer\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:currentMessage,placeholder:\"Hey...\",onChange:event=>{setCurrentMessage(event.target.value);},onKeyPress:event=>{event.key===\"Enter\"&&sendMessage();}}),/*#__PURE__*/_jsx(\"button\",{onClick:sendMessage,children:\"\\u25BA\"})]})]});}export default Chat;","map":{"version":3,"names":["React","useEffect","useState","ScrollToBottom","jsx","_jsx","jsxs","_jsxs","Chat","_ref","socket","username","room","currentMessage","setCurrentMessage","messageList","setMessageList","sendMessage","messageData","author","message","time","Date","now","getHours","getMinutes","emit","list","on","data","className","children","map","messageContent","id","type","value","placeholder","onChange","event","target","onKeyPress","key","onClick"],"sources":["C:/Users/hp/OneDrive/Desktop/abcd/newapp/client/src/Chat.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport ScrollToBottom from \"react-scroll-to-bottom\";\r\n\r\nfunction Chat({ socket, username, room }) {\r\n  const [currentMessage, setCurrentMessage] = useState(\"\");\r\n  const [messageList, setMessageList] = useState([]);\r\n\r\n  const sendMessage = async () => {\r\n    if (currentMessage !== \"\") {\r\n      const messageData = {\r\n        room: room,\r\n        author: username,\r\n        message: currentMessage,\r\n        time:\r\n          new Date(Date.now()).getHours() +\r\n          \":\" +\r\n          new Date(Date.now()).getMinutes(),\r\n      };\r\n\r\n      await socket.emit(\"send_message\", messageData);\r\n      setMessageList((list) => [...list, messageData]);\r\n      setCurrentMessage(\"\");\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    socket.on(\"receive_message\", (data) => {\r\n      setMessageList((list) => [...list, data]);\r\n    });\r\n  }, [socket]);\r\n\r\n  return (\r\n    <div className=\"chat-window\">\r\n      <div className=\"chat-header\">\r\n        <p>Live Chat</p>\r\n      </div>\r\n      <div className=\"chat-body\">\r\n        <ScrollToBottom className=\"message-container\">\r\n          {messageList.map((messageContent) => {\r\n            return (\r\n              <div\r\n                className=\"message\"\r\n                id={username === messageContent.author ? \"you\" : \"other\"}\r\n              >\r\n                <div>\r\n                  <div className=\"message-content\">\r\n                    <p>{messageContent.message}</p>\r\n                  </div>\r\n                  <div className=\"message-meta\">\r\n                    <p id=\"time\">{messageContent.time}</p>\r\n                    <p id=\"author\">{messageContent.author}</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </ScrollToBottom>\r\n      </div>\r\n      <div className=\"chat-footer\">\r\n        <input\r\n          type=\"text\"\r\n          value={currentMessage}\r\n          placeholder=\"Hey...\"\r\n          onChange={(event) => {\r\n            setCurrentMessage(event.target.value);\r\n          }}\r\n          onKeyPress={(event) => {\r\n            event.key === \"Enter\" && sendMessage();\r\n          }}\r\n        />\r\n        <button onClick={sendMessage}>&#9658;</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Chat;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}